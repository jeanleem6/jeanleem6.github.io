<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <!-- Website mata -->
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<!-- Disable transformation -->
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<!-- Website description -->

<meta name="description" content="This is a bloger about FE(front engineer), so here has any articles for CSS/HTML/JS, etc." />


<!-- Website keywords -->




<!-- Website rss -->

<link rel="alternate" href="/atom.xml" title="Banksy7" type="application/atom+xml">


<!-- Website favicon -->

<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=3.0.0" />


<!-- Canonical, good for google search engine -->
<link rel="canonical" href="https://jeanleem6.github.io/" />

<!-- Fancybox styling -->

<link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />


<!-- MathJax (LaTeX) support -->


<!-- Theme styling -->
<link rel="stylesheet" type="text/css" href="/css/style.css?v=3.0.0" />

<!-- Analytics and push -->



  



<!-- LeanCloud Counter -->


<script>
  window.config = {"leancloud":{"app_id":null,"app_key":null,"server_url":null,"cdn":null},"toc":true,"fancybox":true,"latex":false};
</script>
  
  <title>Banksy7</title>

<meta name="generator" content="Hexo 7.2.0"></head>

<body>
  <div class="scrollPercentage"></div>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Banksy7</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
    <a href="/">
      <li class="mobile-menu-item">
        
        
        首页              </li>
    </a>
    
    <a href="/archives/">
      <li class="mobile-menu-item">
        
        
        归档              </li>
    </a>
    
    <a href="/tags/">
      <li class="mobile-menu-item">
        
        
        标签              </li>
    </a>
    
    <a href="/about/">
      <li class="mobile-menu-item">
        
        
        关于              </li>
    </a>
    
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
      <div class="logo-wrapper">  
  <a href="/." class="logo">Banksy7</a>  
</div>  
  
<nav class="site-navbar">  
    
    <ul id="menu" class="menu">  
        
        <li class="menu-item">  
          <a class="menu-item-link" href="/">  
              
              
              首页  
              
          </a>  
        </li>  
        
        <li class="menu-item">  
          <a class="menu-item-link" href="/archives/">  
              
              
              归档  
              
          </a>  
        </li>  
        
        <li class="menu-item">  
          <a class="menu-item-link" href="/tags/">  
              
              
              标签  
              
          </a>  
        </li>  
        
        <li class="menu-item">  
          <a class="menu-item-link" href="/about/">  
              
              
              关于  
              
          </a>  
        </li>  
        
    </ul>  
    
</nav>  

    </header>
    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <section id="posts" class="posts">
  
  
  
  <article class="post">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/2020/07/06/sublime-practical-skills-win/">Sublime实用技巧(Win)</a>
      
    </h1>

    <div class="post-meta">
      <span class="post-time">
        2020-07-06
      </span>
      
      
      
    </div>
  </header>

  

  <div class="post-content">
    
    
    

    
    <p><code>Alt + R</code> : 开启正则表达式功能<br><code>Alt + Enter</code>: 找到匹配目标后全部选择<br><code>Ctrl + R</code>：前往 method（mac 下 <code>⌘ + R</code>）<br><code>Ctrl + M</code>：跳转到对应括号<br><code>Ctrl + Shift + ↑/↓</code>：与上&#x2F;下一行交换位置</p>
<p><code>Ctrl + D</code>：选择单词，重复可增加选择下一个相同的单词<br><code>Ctrl + L</code>：选择行，重复可依次增加选择下一行</p>
<p><code>Ctrl + Shift + P</code>：打开命令面板</p>
<p><code>Ctrl + P</code>：搜索项目中的文件（mac 下 <code>⌘ + P</code>），在里面输入：<br><code>admi@auto</code> 可以定位到相应文件夹(admin.html)下的相应方法（auto）。</p>
<p><code>Ctrl + G</code>：跳转到第几行<br><code>Ctrl + W</code>：关闭当前打开文件<br><code>Ctrl + Shift + W</code>：关闭所有打开文件<br><code>Ctrl + Shift + V</code>：粘贴并格式化<br><code>Ctrl + Shift + L</code>：选择多行<br><code>Ctrl + Shift + Enter</code>：在当前行前插入新行<br><code>Ctrl + X</code>：删除当前行<br><code>Ctrl + U</code>：软撤销，撤销光标位置<br><code>Ctrl + Shift + J</code>：选择标签内容<br><code>Ctrl + F</code>：查找内容<br><code>Ctrl + Shift + F</code>：查找并替换<br><code>Ctrl + H</code>：替换<br><code>Ctrl + N</code>：新建窗口<br><code>Ctrl + K + B</code>：开关侧栏<br><code>Ctrl + Shift + M</code>：选中当前括号内容，重复可选择括号本身<br><code>Ctrl + F2</code>：设置&#x2F;删除标记<br><code>Ctrl + /</code>：注释当前行<br><code>Ctrl + Shift + /</code>：当前位置(对选中内容)插入块注释<br><code>Ctrl + Alt + /</code>：块注释，并 Focus 到首行，写注释说明用的<br><code>Ctrl + Shift + A</code>：选择当前标签前后，修改标签用的<br><code>F11</code>：全屏<br><code>Shift + F11</code>：全屏免打扰模式，只编辑当前文件<br><code>Alt + F3</code>：选择所有相同的词<br><code>Alt + .</code>：闭合标签<br><code>Alt + Shift + 数字</code>：分屏显示<br><code>Alt + 数字</code>：切换到第 N 个文件<br><code>Shift + 右键拖动</code>：上下拖动设置多个光标位并在多行选中相同长度内容，用来更改或插入列内容<br><code>鼠标的前进后退键</code>：可切换 Tab 文件<br><code>Ctrl + 左键点击</code>：选择多个位置<br><code>Ctrl + shift + D</code>: 复制并粘贴光标所在行<br><code>Ctrl + shift + T</code>: 恢复已经关闭的标签页</p>
<h2 id="Editing"><a href="#Editing" class="headerlink" title="Editing"></a>Editing</h2><p><em>Keypress Command</em></p>
<p><code>Ctrl + X</code> Delete line<br><code>Ctrl + ↩</code> Insert line after<br><code>Ctrl + ⇧ + ↩</code> Insert line before<br><code>Ctrl + ⇧ + ↑</code> Move line&#x2F;selection up<br><code>Ctrl + ⇧ + ↓</code> Move line&#x2F;selection down<br><code>Ctrl + L</code> Select line - Repeat to select next lines<br><code>Ctrl + D</code> Select word - Repeat select others occurrences<br><code>Ctrl + M</code> Jump to closing parentheses Repeat to jump to opening parentheses<br><code>Ctrl + ⇧ + M</code> Select all contents of the current parentheses<br><code>Ctrl + KK</code> Delete from cursor to end of line<br><code>Ctrl + K + ⌫</code> Delete from cursor to start of line<br><code>Ctrl + ]</code> Indent current line(s)<br><code>Ctrl + [</code> Un-indent current line(s)<br><code>Ctrl + ⇧ + D</code> Duplicate line(s)<br><code>Ctrl + J</code> Join line below to the end of the current line<br><code>Ctrl + /</code> Comment&#x2F;un-comment current line<br><code>Ctrl + ⇧ + /</code> Block comment current selection<br><code>Ctrl + Y</code> Redo, or repeat last keyboard shortcut command<br><code>Ctrl + ⇧ + V</code> Paste and indent correctly<br><code>Ctrl + Space</code> Select next auto-complete suggestion<br><code>Ctrl + U</code> soft undo; jumps to your last change before undoing change when repeated</p>
<p><strong>Windows</strong><br><code>Ctrl + Alt + Up</code> Column selection up<br><code>Ctrl + Alt + Down</code> Column selection down</p>
<p><strong>Linux</strong><br><code>Alt + ⇧ + Up</code> Column selection up<br><code>Alt + ⇧ + Down</code> Column selection up</p>
<h2 id="Navigation-Goto-Anywhere"><a href="#Navigation-Goto-Anywhere" class="headerlink" title="Navigation&#x2F;Goto Anywhere"></a>Navigation&#x2F;Goto Anywhere</h2><p><em>Keypress Command</em></p>
<p><code>Ctrl + P</code> Quick-open files by name<br><code>Ctrl + R</code> Goto symbol<br><code>Ctrl + ;</code> Goto word in current file<br><code>Ctrl + G</code> Goto line in current file</p>
<h2 id="General"><a href="#General" class="headerlink" title="General"></a>General</h2><p><em>Keypress Command</em></p>
<p><code>Ctrl + ⇧ + P</code> Command prompt<br><code>Ctrl + KB</code> Toggle side bar<br><code>Ctrl + ⇧ + Alt + P</code> Show scope in status bar</p>
<h2 id="Find-Replace"><a href="#Find-Replace" class="headerlink" title="Find&#x2F;Replace"></a>Find&#x2F;Replace</h2><p><em>Keypress Command</em></p>
<p><code>Ctrl + F</code> Find<br><code>Ctrl + H</code> Replace<br><code>Ctrl + ⇧ + F</code> Find in files</p>
<h2 id="Tabs"><a href="#Tabs" class="headerlink" title="Tabs"></a>Tabs</h2><p><em>Keypress Command</em></p>
<p><code>Ctrl + ⇧ + t</code> Open last closed tab<br><code>Ctrl + PgUp</code> Cycle up through tabs<br><code>Ctrl + PgDn</code> Cycle down through tabs<br><code>Ctrl + ⇆</code> Find in files<br><code>Alt + [NUM]</code> Switch to tab number [NUM] where [NUM] &lt;&#x3D; number of tabs</p>
<h2 id="Split-window"><a href="#Split-window" class="headerlink" title="Split window"></a>Split window</h2><p><em>Keypress Command</em></p>
<p><code>Alt + ⇧ + 2</code> Split view into two columns<br><code>Alt + ⇧ + 1</code> Revert view to single column<br><code>Alt + ⇧ + 5</code> Set view to grid (4 groups)<br><code>Ctrl + [NUM]</code> Jump to group where num is 1-4<br><code>Ctrl + ⇧ + [NUM]</code> Move file to specified group where num is 1-4</p>
<h2 id="Bookmarks"><a href="#Bookmarks" class="headerlink" title="Bookmarks"></a>Bookmarks</h2><p><em>Keypress Command</em></p>
<p><code>Ctrl + F2</code> Toggle bookmark<br><code>F2</code> Next bookmark<br><code>⇧ + F2</code> Previous bookmark<br><code>Ctrl + ⇧ + F2</code> Clear bookmarks</p>
<h2 id="Text-manipulation"><a href="#Text-manipulation" class="headerlink" title="Text manipulation"></a>Text manipulation</h2><p><em>Keypress Command</em></p>
<p><code>Ctrl + KU</code> Transform to Uppercase<br><code>Ctrl + KL</code> Transform to Lowercase</p>

    
    
  </div>

  

  

</article>
  
  <article class="post">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/2019/08/11/Configure-SublimeLinter-html-tidy/">Configure SublimeLinter-html-tidy</a>
      
    </h1>

    <div class="post-meta">
      <span class="post-time">
        2019-08-11
      </span>
      
      
      
    </div>
  </header>

  

  <div class="post-content">
    
    
    

    
    <h3 id="Ready-Works"><a href="#Ready-Works" class="headerlink" title="Ready Works:"></a>Ready Works:</h3><ol>
<li>Install <a target="_blank" rel="noopener" href="https://www.sublimetext.com/3">Sublime Text 3</a></li>
<li>Install <em>SublimeLinter</em></li>
<li><a target="_blank" rel="noopener" href="https://tidybatchfiles.info/tidy.zip">Download tidy.zip</a> from <a target="_blank" rel="noopener" href="https://tidybatchfiles.info/">HTML Tidy for Windows</a></li>
<li>Install <em>SublimeLinter HTML Tidy</em></li>
</ol>
<p>Step 2 and 4 install from <code>Package Control: Install Package</code>. Not introduce here.</p>
<h3 id="Configure"><a href="#Configure" class="headerlink" title="Configure"></a>Configure</h3><ul>
<li><p>解压第3步下载的文件得到 <code>tidy.exe</code>，拷贝到目录<code>C:/Users/Username/tidy</code>，其它目录也可以。</p>
</li>
<li><p>依次打开：<code>Preferences &gt; Package Settings &gt; SublimeLinter &gt; Settings</code></p>
</li>
<li><p>下滑找到 <code>paths</code> 节点，如下：</p>
  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;paths&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;linux&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;osx&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;windows&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p>拷贝 <code>tidy.exe</code> 所在的目录到 <code>windows</code> 项：</p>
  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;paths&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;linux&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;osx&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;windows&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;~/tidy&quot;</span><span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：路径 <code>&quot;~/tidy&quot;</code> 是相对用户目录的路径，即 <code>C:/Users/Username</code>，路径不包含 <code>tidy.exe</code> 程序本身。当然，用<strong>绝对路径</strong>或<strong>其它目录</strong>也是可以的（如：<code>d:/tidy</code>）。</p>
</blockquote>
</li>
<li><p>Done!!</p>
</li>
</ul>
<hr>
<p><a target="_blank" rel="noopener" href="https://jecosolutions.com/linting-html-with-sublime-text-3-sublimelinter-html-tidy-for-windows-and-sublimelinter-html-tidy-on-windows/">阅读原文</a></p>

    
    
  </div>

  

  

</article>
  
  <article class="post">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/2019/05/10/Change-Lanunchpad-Icon-Size/">Change Lanunchpad Icon Size</a>
      
    </h1>

    <div class="post-meta">
      <span class="post-time">
        2019-05-10
      </span>
      
      
      
    </div>
  </header>

  

  <div class="post-content">
    
    
    

    
    <p><strong>How to Adjust the Icon Grid Count of Launchpad in Mac OS X</strong></p>
<p>replacing the <code>X</code> numbers for the appropriate columns and grid icon counts</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.dock springboard-columns -int X;defaults write com.apple.dock springboard-rows -int X;defaults write com.apple.dock ResetLaunchPad -bool TRUE;killall Dock</span><br></pre></td></tr></table></figure>

<p>For example, to set the Launchpad grid to <code>8 × 7</code> you’d use the following syntax:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.dock springboard-columns -int 7;defaults write com.apple.dock springboard-rows -int 8;defaults write com.apple.dock ResetLaunchPad -bool TRUE;killall Dock</span><br></pre></td></tr></table></figure>

<p>If you want to return to the default setting, just change the column and row counts back to what yours was originally. <strong>The default on my MacBook Pro Retina display is a 5 x 7 grid</strong>, but yours may be different depending on screen size and screen resolution.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.dock springboard-columns -int 7;defaults write com.apple.dock springboard-rows -int 5;defaults write com.apple.dock ResetLaunchPad -bool TRUE;killall Dock</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>The commands</strong> for customizing the Launchpad layout <strong>can also be split apart</strong> if desired like so:</p>
<p><strong>Set the Launchpad Column Icon Count</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.dock springboard-columns -int 7</span><br></pre></td></tr></table></figure>

<p><strong>Set the Launchpad Row App Icon Count</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.dock springboard-rows -int 8</span><br></pre></td></tr></table></figure>

<p><strong>Reset Launchpad</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.dock ResetLaunchPad -bool TRUE;</span><br></pre></td></tr></table></figure>

<p><strong>Relaunch the Dock with killall</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">killall Dock</span><br></pre></td></tr></table></figure>

<p>You can also choose to just set a custom row or just a custom column count, but you must <strong>reset and refresh the Launchpad</strong>, and finally killall Dock to relaunch the Dock in Mac OS X and have the changes to take effect regardless of how you customize it.</p>

    
    
  </div>

  

  

</article>
  
  <article class="post">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/2019/05/08/Multiple-MySQL-Versions-with-Homebrew/">Multiple MySQL Versions with Homebrew</a>
      
    </h1>

    <div class="post-meta">
      <span class="post-time">
        2019-05-08
      </span>
      
      
      
    </div>
  </header>

  

  <div class="post-content">
    
    
    

    
    <h2 id="CONTENT"><a href="#CONTENT" class="headerlink" title="CONTENT"></a>CONTENT</h2><p>For homebrew version 2.1.2</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew -v <span class="comment"># =&gt; Homebrew 2.1.2</span></span><br></pre></td></tr></table></figure>

<p>Install the current version of mysql.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Install current mysql version</span></span><br><span class="line">brew install mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># Start agent for current version of mysql (including on login)</span></span><br><span class="line"><span class="built_in">ln</span> -sfv /usr/local/opt/mysql/*.plist ~/Library/LaunchAgents</span><br><span class="line">launchctl load ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist</span><br></pre></td></tr></table></figure>

<p>Install the older version of mysql.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Find older mysql versions</span></span><br><span class="line">brew search mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># Install older mysql version</span></span><br><span class="line">brew install mysql@5.6</span><br><span class="line"></span><br><span class="line"><span class="comment"># Start agent for older version of mysql (including on login)</span></span><br><span class="line"><span class="built_in">ln</span> -sfv /usr/local/opt/mysql@5.6/*.plist ~/Library/LaunchAgents</span><br><span class="line">launchctl load ~/Library/LaunchAgents/homebrew.mxcl.mysql@5.6.plist</span><br></pre></td></tr></table></figure>

<p>Then to switch to the older version.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Unlink current mysql version</span></span><br><span class="line">brew <span class="built_in">unlink</span> mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># Check older mysql version</span></span><br><span class="line"><span class="built_in">ls</span> /usr/local/Cellar/mysql@5.6 <span class="comment"># =&gt; 5.6.43</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Link the older version</span></span><br><span class="line">brew switch mysql@5.6 5.6.43</span><br><span class="line"><span class="comment"># If the above didn&#x27;t working, try this:</span></span><br><span class="line">brew <span class="built_in">link</span> mysql@5.6 --force</span><br></pre></td></tr></table></figure>

<p>And to switch back to the current version.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Unlink older mysql version</span></span><br><span class="line">brew <span class="built_in">unlink</span> mysql@5.6</span><br><span class="line"></span><br><span class="line"><span class="comment"># Check current mysql version</span></span><br><span class="line"><span class="built_in">ls</span> /usr/local/Cellar/mysql <span class="comment"># =&gt; 8.0.16</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Link the current version</span></span><br><span class="line">brew switch mysql 8.0.16</span><br></pre></td></tr></table></figure>

<p>To verify which mysql version you’re on at any time.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Check which version of mysql is currently symlinked</span></span><br><span class="line"><span class="built_in">ls</span> -l /usr/local/bin/mysql <span class="comment"># =&gt; /usr/local/bin/mysql@ -&gt; ../Cellar/mysql56/5.6.43/bin/mysql</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Or using the mysql command</span></span><br><span class="line">mysql --version</span><br></pre></td></tr></table></figure>

<p>And to unload a mysql agent for a given version.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Stop agent for current version of mysql</span></span><br><span class="line">launchctl unload ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist</span><br><span class="line"><span class="built_in">rm</span> ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist</span><br><span class="line"></span><br><span class="line"><span class="comment"># Stop agent for older version of mysql</span></span><br><span class="line">launchctl unload ~/Library/LaunchAgents/homebrew.mxcl.mysql@5.6.plist</span><br><span class="line"><span class="built_in">rm</span> ~/Library/LaunchAgents/homebrew.mxcl.mysql@5.6.plist</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Caution"><a href="#Caution" class="headerlink" title="Caution"></a>Caution</h2><blockquote>
<p><em>jpmelguizo:</em><br>Went with <a href="mailto:&#x6d;&#121;&#115;&#113;&#x6c;&#64;&#53;&#x2e;&#54;">&#x6d;&#121;&#115;&#113;&#x6c;&#64;&#53;&#x2e;&#54;</a> and I’m getting: <code>ERROR 2002 (HY000): Can&#39;t connect to local MySQL server through socket &#39;/tmp/mysql.sock&#39; (2)</code> Although brew services list says <a href="mailto:&#109;&#121;&#115;&#x71;&#108;&#64;&#x35;&#x2e;&#54;">&#109;&#121;&#115;&#x71;&#108;&#64;&#x35;&#x2e;&#54;</a> is started, there’s no mysqld process running and no mysql.sock file anywhere. Any ideas on how to fix it? should I just go with the deprecated mysql56 instead?</p>
</blockquote>
<blockquote>
<p><em>jsweeney:</em></p>
<p><strong>(NOTICE: If you see <code>\@</code>, it is just <code>@</code>, remove the backslash(<code>\</code>) when you copy.)</strong><br>I also had your problem. My issue was that the mysql@5.6 was trying to boot the mysql 5.7 database (installed in the default <code>/usr/local/var</code> folder). If you want to run both in parallel on their own distinct databases, there are a few more steps to do.</p>
<ol>
<li>Create a new (separate) data directory and database for the 5.6 version<br> Run <code>/usr/local/Cellar/mysql\@5.6/5.6.36/bin/mysql_install_db --user=root --datadir=/usr/local/var/mysql56</code></li>
<li>Change the configuration to start the 5.6 version pointing to this database<br>  Edit <code>/usr/local/Cellar/mysql\@5.6/5.6.36/homebrew.mxcl.mysql\@5.6.plist</code> to change both <code>/usr/local/var/mysql</code> instances to <code>/usr/local/var/mysql56</code> (I didn’t put the <code>@</code> in the folder name just in case it would cause issues). <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">&quot;1.0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>KeepAlive<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>Label<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">string</span>&gt;</span>homebrew.mxcl.mysql@5.6<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>ProgramArguments<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>/usr/local/opt/mysql@5.6/bin/mysqld_safe<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>--bind-address=127.0.0.1<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>--datadir=/usr/local/var/mysql56<span class="tag">&lt;/<span class="name">string</span>&gt;</span> <span class="comment">&lt;!-- &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; HERE --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>RunAtLoad<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>WorkingDirectory<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">string</span>&gt;</span>/usr/local/var/mysql56<span class="tag">&lt;/<span class="name">string</span>&gt;</span> <span class="comment">&lt;!-- &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; AND HERE --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>Change the port of the 5.6 server - if ever you want to start both at the same time.<br>Edit <code>/usr/local/Cellar/mysql\@5.6/5.6.36/my.cnf</code>, uncomment <code>port</code> and change it to some other value than <code>3306</code>. <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># These are commonly set, remove the # and set as required.</span></span><br><span class="line"><span class="comment"># basedir = .....</span></span><br><span class="line"><span class="comment"># datadir = .....</span></span><br><span class="line">port = 3356</span><br><span class="line"><span class="comment"># server_id = .....</span></span><br><span class="line"><span class="comment"># socket = .....</span></span><br></pre></td></tr></table></figure>
NOTE A little caveat about connecting to the MySQL instances after such a setup. Using any kind of driver will &gt; work out of the box if you set the correct port. However, at the command line, <code>mysql</code> ignores the <code>--port</code> &gt; value by default, so you need something like this&gt; <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot --port=3356 --protocol=TCP</span><br></pre></td></tr></table></figure>
See this article for more details: <a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/5.7/en/connecting.html">https://dev.mysql.com/doc/refman/5.7/en/connecting.html</a></li>
</ol>
</blockquote>
<hr>
<p>mysql_downgrade:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Kill rails server and guard</span></span><br><span class="line">bin/spring stop</span><br><span class="line">brew services stop mysql</span><br><span class="line">brew uninstall mysql</span><br><span class="line">brew install mysql@5.5</span><br><span class="line">brew <span class="built_in">link</span> mysql@5.5 --force</span><br><span class="line">brew services start mysql@5.5</span><br><span class="line">rbenv uninstall 2.3.3</span><br><span class="line">rbenv install 2.3.3</span><br><span class="line">gem install bundle</span><br><span class="line">gem install rubocop-rspec rubocop scss_lint rails_best_practices <span class="comment"># (optional)</span></span><br><span class="line">bundle install</span><br><span class="line">be rails db:migrate:reset</span><br></pre></td></tr></table></figure>

<hr>
<p>via:<br>from: <a target="_blank" rel="noopener" href="https://gist.github.com/benlinton/d24471729ed6c2ace731">https://gist.github.com/benlinton/d24471729ed6c2ace731</a><br>mysql_downgrade: <a target="_blank" rel="noopener" href="https://gist.github.com/6temes/3c52f8a472f61d9676e7218a98812286">https://gist.github.com/6temes/3c52f8a472f61d9676e7218a98812286</a></p>

    
    
  </div>

  

  

</article>
  
  <article class="post">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/2019/03/26/linux-text-stream/">Linux文本流</a>
      
    </h1>

    <div class="post-meta">
      <span class="post-time">
        2019-03-26
      </span>
      
      
      
    </div>
  </header>

  

  <div class="post-content">
    
    
    

    
    <h2 id="文本流"><a href="#文本流" class="headerlink" title="文本流"></a>文本流</h2><p>在计算机中，所谓的数据就是<em>0</em>或1的二进制序列，但严格来说，Unix以<strong>字节</strong>（byte）来作为数据的单位，也就是说这个序列每八位（bit）为一个单位。八位的二进制数字，会落在十进制从0到255的范围内。利用ASCII编码，可以把这一个字节转换成为256个字符中的一个。所以，在Unix中，数据完全可以用字符的形式表示出来，也就是所谓的文本（text）。</p>
<p>实际上，如果以位为单位的话，机器会更容易读懂和传输。但Unix系统坚持用字节为单位来表示数据。原因在于，相对于以位为单位的二进制数据，以字节为单位文本直接就人类可读（human readable）。这样的话，无论是计算机配置信息，还是别人写的一首诗，用户都可以直接读懂。当然，并不是所有的数据都是设计来让人读懂的。很多编译好的可执行文件中包含的内容，只有机器能读懂。打开这个文件，尽管也能看到一个个字符，但这些字符并不能组成什么有意义的文本。但Unix系统不会给这种“读不懂”的文件开后门。所有文件都是统一的形式，就能以相同的方法存储，也能共用一套处理工具，从而减少程序开发的难度。</p>
<p>存储文本的文件，就相当于一个个存储数据的房子。在Unix的设计哲学中，一向有“万物皆文件”（Everything is a file）的说法。大部分的文件都对应了存储设备，也就是树莓派的SD卡上的信息。就连表示文件位置的目录，也是一种文件。此外，程序的配置信息，也都存储在文件中。对于Unix系统来说，文件可以广义的认为是可以提供或接收数据的对象。既然这样，Unix系统干脆把提供或接收数据的硬件也表示成文件。这其中，既有外部连接的USB设备，也包括树莓派内部的内存等硬件。在&#x2F;dev目录下，就可以找到很多这样代表硬件的文件。</p>
<p>但托瓦兹对“万物皆文件”的说法作出过纠正，改为“万物皆文本流”（<a target="_blank" rel="noopener" href="http://yarchive.net/comp/linux/everything_is_file.html">Everything is a stream of bytes</a>）。系统运行时，数据并不是在一个文件里定居。数据会在CPU的指挥下不断地流动，就好像一个勤劳的上班族。有时数据需要到办公室上班，因此被读入到内存，有时会去酒店休假，传送到外部设备。有的时候，数据需要搬个家，转移到另一个文件。在这样跑来跑去的过程中，数据像是排着队走路的人流，我们叫它<strong>文本流（text stream</strong>，或者byte stream）。然而，计算机不同设备之间的连接方法差异很大，从内存到文件的连接像是爬山，从内存到外设像是游过一条河。为此，Unix定义了<strong>流 (stream)<strong>，作为连接操作系统各处的</strong>公路</strong>标准。有了“流”，无论是从内存到外设，还是从内存到文件，所有的数据公路都是相同的格式。至于公路下面是石头还是土地，就都交给操作系统处理，不劳用户操心。</p>
<p>(说句题外话，如果看过骇客帝国的话，一定会对文本流印象深刻。)</p>
<p><img src="/2019/03/26/linux-text-stream/2012091402482228.jpg" alt="骇客帝国"></p>
<h2 id="标准输入，标准输出，标准错误与重新定向"><a href="#标准输入，标准输出，标准错误与重新定向" class="headerlink" title="标准输入，标准输出，标准错误与重新定向"></a>标准输入，标准输出，标准错误与重新定向</h2><p>当Unix执行一个程序的时候，会自动打开三个流，<strong>标准输入</strong>(standard input)，<strong>标准输出</strong>(standard output)，<strong>标准错误</strong>(standard error)。比如说你打开命令行的时候，默认情况下，命令行的标准输入连接到键盘，标准输出和标准错误都连接到屏幕。对于一个程序来说，尽管它总会打开这三个流，但它会根据需要使用，并不是一定要使用。</p>
<p>想象一下敲击一个</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash"><span class="built_in">ls</span></span></span><br></pre></td></tr></table></figure>

<p>键盘敲击的文本流(“ls\n”，\n是回车时输入的字符，表示换行)命令行 (命令行实际上也是一个程序)。命令行随后调用&#x2F;bin&#x2F;ls得到结果(“a.txt”)，最后这个输出的文本流(“a.txt”)流到屏幕，显示出来，比如说：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a.txt</span><br></pre></td></tr></table></figure>

<p>假设说我们不想让文本流流到屏幕，而是流到另一个文件，我们可以采用<strong>重新定向</strong>(redirect)的机制。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash"><span class="built_in">ls</span> &gt; a.txt</span></span><br></pre></td></tr></table></figure>

<p><strong>重新定向标准输出</strong>。这里的<code>&gt;</code>就是提醒命令行，让它知道我现在想变换文本流的方向了，我们不让标准输出输出到屏幕，而是要到a.txt这个文件 (好像火车轨道换轨)。此时，计算机会新建一个a.txt的文件，并将命令行的标准输出指向这个文件。</p>
<p>有另一个符号:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash"><span class="built_in">ls</span> &gt;&gt; a.txt</span></span><br></pre></td></tr></table></figure>

<p>这里<code>&gt;&gt;</code>的作用也是<strong>重新定向标准输出</strong>。如果<code>a.txt</code>已经存在的话，<code>ls</code>产生的文本流会附加在<code>a.txt</code>的结尾，而不会像<code>&gt;</code>那样每次都新建<code>a.txt</code>。</p>
<p>我们下面介绍<strong>命令echo</strong>：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash"><span class="built_in">echo</span> IamVamei</span></span><br></pre></td></tr></table></figure>

<p><code>echo</code> 的作用是<strong>将文本流导向标准输出</strong>。在这里，echo的作用就是将IamVamei输出到屏幕上。如果是</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash"><span class="built_in">echo</span> IamVamei &gt; a.txt</span></span><br></pre></td></tr></table></figure>

<p>a.txt中就会有IamVamei这个文本。</p>
<p>我们也可以用<code>&lt;</code>符号来<strong>改变标准输入</strong>。比如<code>cat</code>命令，它可以<strong>从标准输入读入文本流，并输出到标准输出</strong>:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash"><span class="built_in">cat</span> &lt; a.txt</span></span><br></pre></td></tr></table></figure>

<p>我们将cat标准输入指向a.txt，文本会从文件流到cat，然后再输出到屏幕上。当然，我们还可以同时重新定向标准输出:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash"><span class="built_in">cat</span> &lt; a.txt &gt; b.txt</span></span><br></pre></td></tr></table></figure>

<p>这样，a.txt的内容就复制到了b.txt中。</p>
<p>我们还可以使用<code>&gt;&amp;</code>来同时重新定向标准输出和标准错误。假设我们并没有一个目录void。那么</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash"><span class="built_in">cd</span> void &gt; a.txt</span></span><br></pre></td></tr></table></figure>

<p>会在屏幕上返回错误信息。因为此时标准错误依然指向屏幕。当我们使用:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash"><span class="built_in">cd</span> void &gt;&amp; a.txt</span></span><br></pre></td></tr></table></figure>

<p>错误信息被导向a.txt。</p>
<p>如果只想重新定向标准错误，可以使用<code>2&gt;</code>:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash"><span class="built_in">cd</span> void 2&gt; a.txt &gt; b.txt</span></span><br></pre></td></tr></table></figure>

<p>标准错误对应的总是<strong>2号</strong>，所以有以上写法。标准错误输出到a.txt，标准输出输出到b.txt。</p>
<h2 id="管道-pipe"><a href="#管道-pipe" class="headerlink" title="管道 (pipe)"></a>管道 (pipe)</h2><p>理解了以上的内容之后，<strong>管道</strong>的概念就易如反掌。管道可以将一个命令的输出导向另一个命令的输入，从而让两个(或者更多命令)像流水线一样连续工作，不断地处理文本流。在命令行中，我们用<code>|</code>表示管道：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash"><span class="built_in">cat</span> &lt; a.txt | <span class="built_in">wc</span></span></span><br></pre></td></tr></table></figure>

<p><code>wc</code>命令代表<strong>word count</strong>，用于<strong>统计</strong>文本中的<strong>行</strong>、<strong>词</strong>以及<strong>字符</strong>的总数。a.txt中的文本先流到cat，然后从cat的标准输出流到wc的标准输入，从而让wc知道自己要处理的是a.txt这个字符串。</p>
<p>Linux的各个命令实际上高度专业化，并尽量相互独立。每一个都只专注于一个小的功能。但通过pipe，我们可以将这些功能合在一起，实现一些复杂的目的。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>文本流，标准输入，标准输出，标准错误</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cat, echo, wc</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">, &gt;&gt;, &lt;, |</span></span><br></pre></td></tr></table></figure>

<hr>
<p>reference:<br><a target="_blank" rel="noopener" href="http://www.cnblogs.com/vamei/archive/2012/09/14/2683756.html">http://www.cnblogs.com/vamei/archive/2012/09/14/2683756.html</a></p>

    
    
  </div>

  

  

</article>
  
  <article class="post">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/2019/03/03/switch-python-version/">Mac中安装配置Python2、Python3及自由切换</a>
      
    </h1>

    <div class="post-meta">
      <span class="post-time">
        2019-03-03
      </span>
      
      
      
    </div>
  </header>

  

  <div class="post-content">
    
    
    

    
    <h2 id="安装Python2"><a href="#安装Python2" class="headerlink" title="安装Python2"></a>安装Python2</h2><p>Mac系统已经默认带有Python2.7了，所以无需安装它。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">which</span> python</span><br><span class="line"><span class="comment"># 输出如下：</span></span><br><span class="line"><span class="comment"># /usr/bin/python</span></span><br></pre></td></tr></table></figure>

<h2 id="安装Python3"><a href="#安装Python3" class="headerlink" title="安装Python3"></a>安装Python3</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装 python3</span></span><br><span class="line">brew install python3</span><br><span class="line"></span><br><span class="line"><span class="built_in">which</span> python3</span><br><span class="line"><span class="comment"># 输出如下：</span></span><br><span class="line"><span class="comment"># /usr/local/bin/python3</span></span><br></pre></td></tr></table></figure>

<h2 id="不同版本Python路径"><a href="#不同版本Python路径" class="headerlink" title="不同版本Python路径"></a>不同版本Python路径</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/System/Library/Frameworks/Python.framework/Versions/2.7  <span class="comment"># 系统默认</span></span><br><span class="line">/usr/local/Cellar/python  <span class="comment"># brew安装</span></span><br></pre></td></tr></table></figure>

<h2 id="配置Python2-和Python3"><a href="#配置Python2-和Python3" class="headerlink" title="配置Python2 和Python3"></a>配置Python2 和Python3</h2><ol>
<li><p>指定对应路径，控制台输入：<code>vi ~/.zshrc</code><br> 按一下键盘 <code>I</code> 键，变成可编辑状态后，在末尾加上如下内容：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Setting PATH for Python 2.7</span></span><br><span class="line">PATH=<span class="string">&quot;/System/Library/Frameworks/Python.framework/Versions/2.7/bin:<span class="variable">$&#123;PATH&#125;</span>&quot;</span></span><br><span class="line"><span class="built_in">export</span> PATH</span><br><span class="line"><span class="comment"># Setting PATH for Python 3.7.2_2(修改为实际安装的版本号，下同)</span></span><br><span class="line">PATH=<span class="string">&quot;/usr/local/Cellar/python/3.7.2_2/bin:<span class="variable">$&#123;PATH&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p> 编辑完后，按 <code>esc</code> 退出编辑状态，然后输入 <code>:wq</code> 并回车，这样就保存了所修改的 <code>~/.zshrc</code> 文件</p>
</li>
<li><p>添加alias（zsh 环境可以省略这一步），控制台输入：<code>vi ~/.zshrc</code></p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> python2=<span class="string">&#x27;/System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> python3=<span class="string">&#x27;/usr/local/Cellar/python/3.7.2_2/bin/python3.7&#x27;</span></span><br><span class="line"><span class="comment"># alias python=python3</span></span><br></pre></td></tr></table></figure></li>
<li><p>上述步骤的修改，虽然保存了，但是系统还没让其生效，所以我们需要source一下。控制台输入：<code>source ~/.zshrc</code>  然后按回车键。最后关闭终端，重新打开，即生效。</p>
</li>
<li><p>输入对应的命令，即可自由选择使用对应的Python版本。</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ python <span class="comment"># (或者 python2)，进入python2 环境</span></span><br><span class="line">Python 2.7.10 (default, Oct  6 2017, 22:29:07)</span><br><span class="line">[GCC 4.2.1 Compatible Apple LLVM 9.0.0 (clang-900.0.31)] on darwin</span><br><span class="line">Type <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> or <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>

 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ python3 <span class="comment"># 进入python3 环境</span></span><br><span class="line">Python 3.7.2 (default, Feb 12 2019, 08:16:38)</span><br><span class="line">[Clang 10.0.0 (clang-1000.11.45.5)] on darwin</span><br><span class="line">Type <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> or <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>退出Python控制台</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法 1：</span></span><br><span class="line">quit()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法 2：</span></span><br><span class="line">exit()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法 3：</span></span><br><span class="line">ctrl + D</span><br></pre></td></tr></table></figure></li>
</ol>

    
    
  </div>

  

  

</article>
  
  <article class="post">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/2018/11/05/making-epub-tips/">epub电子书制作杂录</a>
      
    </h1>

    <div class="post-meta">
      <span class="post-time">
        2018-11-05
      </span>
      
      
      
    </div>
  </header>

  

  <div class="post-content">
    
    
    

    
    <blockquote>
<p>工具准备：<a target="_blank" rel="noopener" href="https://calibre-ebook.com/">Calibre</a>，Calibre 中文轉換插件 <a target="_blank" rel="noopener" href="https://github.com/Hopkins1/TradSimpChinese">TradSimpChinese</a></p>
</blockquote>
<h2 id="编辑书籍-Edit-Book-简介"><a href="#编辑书籍-Edit-Book-简介" class="headerlink" title="编辑书籍&#x2F;Edit Book 简介"></a><em>编辑书籍&#x2F;Edit Book</em> 简介</h2><p>打开 Calibre，软件右上角工具栏中即可找到<em>编辑书籍&#x2F;Edit Book</em></p>
<ul>
<li>左侧：文件浏览，双击任何一个文件可在中间区域查看文件源码或图片</li>
<li>右侧：文件预览区，查看html页面预览效果</li>
</ul>
<h2 id="让-ibooks-支持内置字体"><a href="#让-ibooks-支持内置字体" class="headerlink" title="让 ibooks 支持内置字体"></a>让 ibooks 支持内置字体</h2><p>第一步，修改 content.opf 文件，新增一行：<code>&lt;meta property=&quot;ibooks:specified-fonts&quot;&gt;true&lt;/meta&gt;</code></p>
<p>第二步，创建xml文件: com.apple.ibooks.display-options.xml，内容如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">display_options</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">platform</span> <span class="attr">name</span>=<span class="string">&quot;*&quot;</span>&gt;</span> <span class="comment">&lt;!-- allowed values for platform &quot;iphone&quot;, &quot;ipad&quot;, or &quot;*&quot; for all --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">name</span>=<span class="string">&quot;specified-fonts&quot;</span>&gt;</span>true<span class="tag">&lt;/<span class="name">option</span>&gt;</span> <span class="comment">&lt;!-- must be set to &quot;true&quot; for embedded fonts --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">platform</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">display_options</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>第三步，点击 calibre 中的 <em>编辑书籍&#x2F;Edit Book</em> 打开 <em>Edit Book</em> 工具，点击 <em>新增文件&#x2F;New File</em>：</p>
<ul>
<li>在弹窗中输入 meta-inf&#x2F;com.apple.ibooks.display-options.xml</li>
<li>点击 <em>导入文件(图片&#x2F;字体等)&#x2F;Import resource file</em>，定位到第二步创建的xml文件选择打开，点 <em>确定</em> 后xml文件就添加好了。</li>
</ul>
<p>第四步，点击 <em>工具栏</em> 中的 <em>管理字体(TTF)</em> &gt; <em>安装字体</em>，添加字体后可通过重命名更改字体路径：Fonts&#x2F;FontName.ttf</p>
<p>第五步，在样式表中添加内置字体：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;FontName&quot;</span>; <span class="comment">/* FontName 可设定为任意名字 */</span></span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">../Path/FontName.ttf</span>); <span class="comment">/* 注意将 Path 和 FontName 修改为你创建的路径名和字体名称 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="竖排，从右向左翻页"><a href="#竖排，从右向左翻页" class="headerlink" title="竖排，从右向左翻页"></a>竖排，从右向左翻页</h2><p>第一步，修改 content.opf 文件，新增一行：<code>&lt;meta content=&quot;vertical-rl&quot; name=&quot;primary-writing-mode&quot;/&gt;</code></p>
<p>第二步，修改 content.opf 文件， 给 spine 标签增加一属性：page-progression-direction&#x3D;”rtl”</p>
<p>第三步，修改样式表，为 body 增加一属性： writing-mode: vertical-rl;</p>
<blockquote>
<p>有时需要<strong>局部横排</strong>显示，例如图片的说明文字可以横排显示在图片下方，可为说明文字单独设置css：writing-mode: horizontal-tb</p>
</blockquote>
<h2 id="添加弹注效果"><a href="#添加弹注效果" class="headerlink" title="添加弹注效果"></a>添加弹注效果</h2><img src="/2018/11/05/making-epub-tips/flowing_footnote.png" width="200px">

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span> <span class="attr">xmlns:epub</span>=<span class="string">&quot;http://www.idpf.org/2007/ops&quot;</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;chapter.xhtml#myNote&quot;</span> <span class="attr">epub:type</span>=<span class="string">&quot;noteref&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aside</span> <span class="attr">id</span>=<span class="string">&quot;myNote&quot;</span> <span class="attr">epub:type</span>=<span class="string">&quot;footnote&quot;</span>&gt;</span>Text in popup<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意，必须有这几个属性：</p>
<ul>
<li>html 标签: <code>xmlns:epub=&quot;http://www.idpf.org/2007/ops&quot;</code></li>
<li>a (注释序号)：<code>epub:type=&quot;noteref&quot;</code></li>
<li>aside (注释)：<code>epub:type=&quot;footnote&quot;</code></li>
</ul>
<p>aside 标签会自动隐藏，如果希望注释正常显示出来，可用 div&#x2F;p 等标签替代。<br>ios 中为整屏弹注，多看等其它阅读器不支持这种方式。</p>
</blockquote>
<h2 id="繁体标点替换"><a href="#繁体标点替换" class="headerlink" title="繁体标点替换"></a>繁体标点替换</h2><ul>
<li><code>“</code> 替换成 <code>「</code></li>
<li><code>”</code> 替换成 <code>」</code></li>
<li><code>‘</code> 替换成 <code>『</code></li>
<li><code>’</code> 替换成 <code>』</code></li>
</ul>
<h2 id="修改语言"><a href="#修改语言" class="headerlink" title="修改语言"></a>修改语言</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dc:language</span>&gt;</span>zh-Hans<span class="tag">&lt;/<span class="name">dc:language</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>繁体</strong>：<code>zh-Hant</code></li>
<li>大陆繁体：<code>zh-Hant-CN</code></li>
<li>香港繁体：<code>zh-Hant-HK</code></li>
<li>澳门繁体：<code>zh-Hant-MO</code></li>
<li>新加坡繁体：<code>zh-Hant-SG</code></li>
<li>台湾繁体：<code>zh-Hant-TW</code></li>
<li><strong>简体</strong>：<code>zh-Hans</code></li>
<li>大陆简体：<code>zh-Hans-CN</code></li>
<li>香港简体：<code>zh-Hans-HK</code></li>
<li>澳门简体：<code>zh-Hans-MO</code></li>
<li>新加坡简体：<code>zh-Hans-SG</code></li>
<li>台湾简体：<code>zh-Hans-TW</code></li>
</ul>
<h2 id="body-样式设置参考"><a href="#body-样式设置参考" class="headerlink" title="body 样式设置参考"></a>body 样式设置参考</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5%</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: justify;</span><br><span class="line">    <span class="attribute">writing-mode</span>: vertical-rl;</span><br><span class="line">    -webkit-<span class="attribute">writing-mode</span>:vertical-rl;</span><br><span class="line">    -epub-<span class="attribute">writing-mode</span>: vertical-rl;</span><br><span class="line">    -epub-<span class="attribute">line-break</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="epub目录树结构"><a href="#epub目录树结构" class="headerlink" title="epub目录树结构"></a>epub目录树结构</h2><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">├── <span class="keyword">META</span><span class="literal">-INF</span></span><br><span class="line">│   ├── com.apple.ibooks.display-options.<span class="keyword">xml</span></span><br><span class="line"><span class="title">│   └── container</span>.<span class="keyword">xml</span></span><br><span class="line"><span class="title">├── OEBPS</span></span><br><span class="line">│   ├── Fonts</span><br><span class="line">│   │   └── kangxidict.ttf</span><br><span class="line">│   ├── Images</span><br><span class="line">│   │   ├── Image00000.jpg</span><br><span class="line">│   │   ├── Image00001.jpg</span><br><span class="line">│   │   ├── ...</span><br><span class="line">│   │   └── Image00200.jpg</span><br><span class="line">│   ├── OEBPS</span><br><span class="line">│   │   └── cover.jpg</span><br><span class="line">│   ├── Styles</span><br><span class="line">│   │   ├── flow0001.css</span><br><span class="line">│   │   ├── flow0002.css</span><br><span class="line">│   │   ├── ...</span><br><span class="line">│   │   └── flow0005.css</span><br><span class="line">│   ├── Text</span><br><span class="line">│   │   ├── text00000.html</span><br><span class="line">│   │   ├── text00001.html</span><br><span class="line">│   │   ├── ...</span><br><span class="line">│   │   └── text00090.html</span><br><span class="line">│   ├── content.opf</span><br><span class="line">│   └── toc.ncx</span><br><span class="line">└── mimetype</span><br></pre></td></tr></table></figure>

<hr>
<p>reference:<br><a target="_blank" rel="noopener" href="http://guidohenkel.com/2015/04/custom-fonts-in-ibooks/">http://guidohenkel.com/2015/04/custom-fonts-in-ibooks/</a> (Custom Fonts)<br><a target="_blank" rel="noopener" href="https://help.apple.com/itc/booksassetguide/en.lproj/static.html">https://help.apple.com/itc/booksassetguide/en.lproj/static.html</a> （Section:<code>Pop-up Footnotes</code>）<br><a target="_blank" rel="noopener" href="https://bookfere.com/post/204.html">https://bookfere.com/post/204.html</a></p>

    
    
  </div>

  

  

</article>
  
  <article class="post">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/2018/09/10/vim-replacement/">vim-replacement</a>
      
    </h1>

    <div class="post-meta">
      <span class="post-time">
        2018-09-10
      </span>
      
      
      
    </div>
  </header>

  

  <div class="post-content">
    
    
    

    
    <h2 id="vim批量替换命令"><a href="#vim批量替换命令" class="headerlink" title="vim批量替换命令"></a>vim批量替换命令</h2><p>语法:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:[addr]s/源字符串/目的字符串/[option]</span><br></pre></td></tr></table></figure>

<p>全局替换命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:%s/源字符串/目的字符串/g</span><br></pre></td></tr></table></figure>

<blockquote>
<p>源字符串可以用正则表达式，特殊变量需要转义（加<code>\</code>，比如: <code>\(</code>）<br>目的字符串引用方式：</p>
<ul>
<li><code>\0</code> 或 <code>&amp;</code>：表达式匹配的全部文本；</li>
<li><code>\1</code>：编号为 1 的捕获分组匹配的文本；</li>
<li><code>\2</code>：编号为 1 的捕获分组匹配的文本；</li>
<li><code>\L</code>：将之后的所有字符转换为小写；</li>
<li><code>\U</code>：将之后的所有字符转换为大写；</li>
<li><code>\E</code> 或 <code>\e</code>：<code>\U</code> 和 <code>\L</code> 的作用结束；</li>
<li><code>\l</code>：将此后一个字符转换为小写；</li>
<li><code>\u</code>：将此后一个字符转换为大写。</li>
</ul>
</blockquote>
<h3 id="参数说明："><a href="#参数说明：" class="headerlink" title="参数说明："></a>参数说明：</h3><p><strong><code>[addr]</code>  表示检索范围，省略时表示当前行。</strong></p>
<ul>
<li><code>1,20</code>：表示从第1行到20行；</li>
<li><code>%</code>：   表示整个文件，同 <code>1,$</code>；</li>
<li><code>. ,$</code>：从当前行到文件尾；</li>
</ul>
<p><strong><code>s</code> : 表示替换操作</strong></p>
<p><strong><code>[option]</code> : 表示操作类型</strong></p>
<ul>
<li><code>g</code> 表示全局替换;</li>
<li><code>c</code> 表示进行确认</li>
<li><code>p</code> 表示替代结果逐行显示（Ctrl + L恢复屏幕）;</li>
<li>省略<code>option</code>时仅对每行第一个匹配串进行替换;</li>
<li>如果在源字符串和目的字符串中出现特殊字符，需要用 <code>\</code> 转义 如 <code>\t</code></li>
</ul>
<h3 id="例子："><a href="#例子：" class="headerlink" title="例子："></a>例子：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#==================================================</span></span><br><span class="line"><span class="comment">#将That or this 换成 This or that</span></span><br><span class="line">:%s/\(That\) or \(this\)/\u\2 or \l\1/</span><br><span class="line"></span><br><span class="line"><span class="comment">#==================================================</span></span><br><span class="line"><span class="comment">#将句尾的child换成children</span></span><br><span class="line">:%s/child\([ ,.;!:?]\)/children\1/g</span><br><span class="line"></span><br><span class="line"><span class="comment">#==================================================</span></span><br><span class="line"><span class="comment">#将mgi/r/abox换成mgi/r/asquare</span></span><br><span class="line">:g/mg\([ira]\)box/s//mg//my\1square/g    &lt;=&gt;  :g/mg[ira]box/s/box/square/g</span><br><span class="line"></span><br><span class="line"><span class="comment">#==================================================</span></span><br><span class="line"><span class="comment">#将多个空格换成一个空格</span></span><br><span class="line">:%s/  */ /g</span><br><span class="line"></span><br><span class="line"><span class="comment">#==================================================</span></span><br><span class="line"><span class="comment">#使用空格替换句号或者冒号后面的一个或者多个空格</span></span><br><span class="line">:%s/\([:.]\)  */\1 /g</span><br><span class="line"></span><br><span class="line"><span class="comment">#==================================================</span></span><br><span class="line"><span class="comment">#删除所有空行</span></span><br><span class="line">:g/^$/d</span><br><span class="line"></span><br><span class="line"><span class="comment">#==================================================</span></span><br><span class="line"><span class="comment">#删除所有的空白行和空行</span></span><br><span class="line">:g/^[  ][  ]*$/d</span><br><span class="line"></span><br><span class="line"><span class="comment">#==================================================</span></span><br><span class="line"><span class="comment">#在每行的开始插入两个空白</span></span><br><span class="line">:%s/^/&gt;  /</span><br><span class="line"></span><br><span class="line"><span class="comment">#==================================================</span></span><br><span class="line"><span class="comment">#在接下来的6行末尾加入.</span></span><br><span class="line">:.,5/$/./</span><br><span class="line"></span><br><span class="line"><span class="comment">#==================================================</span></span><br><span class="line"><span class="comment">#颠倒文件的行序</span></span><br><span class="line">:g/.*/m0O  &lt;=&gt; :g/^/m0O</span><br><span class="line"></span><br><span class="line"><span class="comment">#==================================================</span></span><br><span class="line"><span class="comment">#寻找不是数字的开始行,并将其移到文件尾部</span></span><br><span class="line">:g!/^[0-9]/m$ &lt;=&gt; g/^[^0-9]/m$</span><br><span class="line"></span><br><span class="line"><span class="comment">#==================================================</span></span><br><span class="line"><span class="comment">#将文件的第12到17行内容复制10词放到当前文件的尾部</span></span><br><span class="line">:1,10g/^/12,17t$</span><br><span class="line"><span class="comment">#~~~~重复次数的作用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#==================================================</span></span><br><span class="line"><span class="comment">#将chapter开始行下面的第二行的内容写道begin文件中</span></span><br><span class="line">:g/^chapter/.+2w&gt;&gt;begin</span><br><span class="line"></span><br><span class="line"><span class="comment">#==================================================</span></span><br><span class="line">:/^part2/,/^part3/g/^chapter/.+2w&gt;&gt;begin</span><br><span class="line"></span><br><span class="line"><span class="comment">#==================================================</span></span><br><span class="line">:/^part2/,/^part3/g/^chapter/.+2w&gt;&gt;begin|+t$</span><br></pre></td></tr></table></figure>

    
    
  </div>

  

  

</article>
  
  <article class="post">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/2018/07/02/Mac-Terminal-agent/">MAC下终端走代理的几种方法</a>
      
    </h1>

    <div class="post-meta">
      <span class="post-time">
        2018-07-02
      </span>
      
      
      
    </div>
  </header>

  

  <div class="post-content">
    
    
    

    
    <h3 id="方法1"><a href="#方法1" class="headerlink" title="方法1:"></a>方法1:</h3><p>在终端中直接运行命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> http_proxy=http://proxyAddress:port</span><br></pre></td></tr></table></figure>

<p>这个办法的好处是简单直接，并且影响面很小（只对当前终端有效）。</p>
<h3 id="方法2"><a href="#方法2" class="headerlink" title="方法2:"></a>方法2:</h3><p>把代理服务器地址写入shell配置文件.bashrc或者.zshrc<br>直接在.bashrc或者.zshrc添加下面内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> http_proxy=<span class="string">&quot;http://localhost:port&quot;</span></span><br><span class="line"><span class="built_in">export</span> https_proxy=<span class="string">&quot;http://localhost:port&quot;</span></span><br></pre></td></tr></table></figure>

<p>以使用shadowsocks代理为例，ss的代理端口为1080,那么应该设置为</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> http_proxy=<span class="string">&quot;http://127.0.0.1:1080&quot;</span></span><br><span class="line"><span class="built_in">export</span> https_proxy=<span class="string">&quot;http://127.0.0.1:1080&quot;</span></span><br></pre></td></tr></table></figure>

<p>localhost就是一个域名，域名默认指向 127.0.0.1，两者是一样的。<br>然后 <code>ESC</code> 后 <code>:wq</code> 保存文件，接着在终端中执行 <code>source ~/.bashrc</code><br>或者退出当前终端再起一个终端。 这个办法的好处是把代理服务器永久保存了，下次就可以直接用了。</p>
<h3 id="方法3"><a href="#方法3" class="headerlink" title="方法3:"></a>方法3:</h3><p>改相应工具的配置，比如apt的配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/apt/apt.conf</span><br></pre></td></tr></table></figure>

<p>在文件末尾加入下面这行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Acquire::http::Proxy <span class="string">&quot;http://proxyAddress:port&quot;</span></span><br></pre></td></tr></table></figure>

<p>保存apt.conf文件即可。关于apt的代理设置可以参考<a target="_blank" rel="noopener" href="http://askubuntu.com/questions/349702/apt-conf-acquirehttpproxy-proxyserverport-seems-not-to-be-used-ubuntu-13">这里</a><br>关于git的代理设置看这里:<a target="_blank" rel="noopener" href="http://blog.fazero.cc/2015/07/11/%E7%94%A8shadowsocks%E5%8A%A0%E9%80%9Fgit-clone/">用shadowsocks加速git clone</a></p>
<h3 id="方法4"><a href="#方法4" class="headerlink" title="方法4:"></a>方法4:</h3><p><a target="_blank" rel="noopener" href="http://blog.fazero.cc/2015/08/31/%E5%88%A9%E7%94%A8proxychains%E5%9C%A8%E7%BB%88%E7%AB%AF%E4%BD%BF%E7%94%A8socks5%E4%BB%A3%E7%90%86/">利用proxychains在终端使用socks5代理</a></p>
<h3 id="补充："><a href="#补充：" class="headerlink" title="补充："></a>补充：</h3><p>如果代理服务器需要登陆，这时可以直接把用户名和密码写进去</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http_proxy=http://userName:password@proxyAddress:port</span><br></pre></td></tr></table></figure>

    
    
  </div>

  

  

</article>
  
  <article class="post">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/2018/01/31/search-engine-skills/">搜索引擎常用技巧</a>
      
    </h1>

    <div class="post-meta">
      <span class="post-time">
        2018-01-31
      </span>
      
      
      
    </div>
  </header>

  

  <div class="post-content">
    
    
    

    
    <h2 id="搜索入门"><a href="#搜索入门" class="headerlink" title="搜索入门"></a>搜索入门</h2><h3 id="多个关键字"><a href="#多个关键字" class="headerlink" title="多个关键字"></a>多个关键字</h3><p><strong>搜索结果要求包含两个及以上关键字</strong>，以<code>空格</code>分隔；</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">搜索引擎 历史</span><br></pre></td></tr></table></figure>

<h3 id="不包含特定关键字"><a href="#不包含特定关键字" class="headerlink" title="不包含特定关键字"></a>不包含特定关键字</h3><p><strong>搜索结果不包含某些特定资讯</strong>，用减号<code>-</code>操作；</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">搜索引擎 历史 -文化 -中国历史 -世界历史</span><br><span class="line"><span class="comment">// 注意：减号后面没有空格</span></span><br></pre></td></tr></table></figure>

<h3 id="或搜索"><a href="#或搜索" class="headerlink" title="或搜索"></a>或搜索</h3><p><strong>搜索结果至少包含多个关键字中的任意一个</strong>，用大写的<code>OR</code>操作；</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">搜索引擎 历史 archie OR 蜘蛛 OR lycos OR yahoo -文化</span><br><span class="line">// 至少包含 <span class="selector-attr">[archie]</span>、<span class="selector-attr">[蜘蛛]</span>、<span class="selector-attr">[lycos]</span>、<span class="selector-attr">[yahoo]</span>中的一个，不包含<span class="selector-attr">[文化]</span></span><br></pre></td></tr></table></figure>

<h3 id="通配符"><a href="#通配符" class="headerlink" title="通配符"></a>通配符</h3><p>目前可以用<code>*</code>来代替单个字元，而且必须用英文的双引号<code>””</code>引起来；</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">“以*治国”</span><br></pre></td></tr></table></figure>

<h3 id="字母大小写不敏感"><a href="#字母大小写不敏感" class="headerlink" title="字母大小写不敏感"></a>字母大小写不敏感</h3><p><code>GOD</code>和<code>god</code>搜索的结果是一样的；</p>
<h3 id="搜整个短语或句子"><a href="#搜整个短语或句子" class="headerlink" title="搜整个短语或句子"></a>搜整个短语或句子</h3><p>关键字可以是单词（中间没有空格），也可以是短语（中间有空格）。但是，用短语做关键字，必须加英文引号<code>””</code>，否则空格会被当作<code>与</code>操作符。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">“world war <span class="selector-tag">I</span>”</span><br></pre></td></tr></table></figure>

<h3 id="忽略字元及强制搜索"><a href="#忽略字元及强制搜索" class="headerlink" title="忽略字元及强制搜索"></a>忽略字元及强制搜索</h3><p>搜索引擎忽略的字元以及强制搜索，如<code>i</code>、<code>com</code>、<code>www</code>等，以及一些符号如<code>*</code>、<code>.</code>等，作忽略处理。</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">www的历史 <span class="built_in">int</span>ernet</span><br><span class="line"><span class="comment">// 搜索结果中不会有与[www]相关的结果</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>搜索引擎实际上把<code>www的历史</code>这个短语分成三部分：<code>www</code>、<code>的</code>、<code>历史</code>，分别来检索，这就是<strong>搜索引擎的分词</strong>。所以尽管你输入了连续的<code>www的历史</code>，但搜索引擎还是把这个短语当成三个关键字分别检索。</p>
</blockquote>
<p>要对忽略的关键字进行强制检索，可以用英文双引号<code>””</code>引起来：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">“www的历史” <span class="built_in">int</span>ernet</span><br><span class="line"><span class="comment">// 搜索结果中会有与[www]相关的结果</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：大部分常用英文符号（如问号，句号，逗号等）无法成为搜索关键字，加强制也不行。</p>
</blockquote>
<h2 id="搜索进阶"><a href="#搜索进阶" class="headerlink" title="搜索进阶"></a>搜索进阶</h2><h3 id="特定网站"><a href="#特定网站" class="headerlink" title="特定网站"></a>特定网站</h3><p>对搜索的网站进行限制——<code>site:</code></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// eg1:</span></span><br><span class="line">搜索引擎 技巧 site:edu<span class="selector-class">.cn</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// eg2:</span></span><br><span class="line">“search engine” tips site:www<span class="selector-class">.zhihu</span><span class="selector-class">.com</span> OR site:www<span class="selector-class">.douban</span>.com</span><br></pre></td></tr></table></figure>
<p><code>site</code>表示搜索结果局限于某个具体网站或者网站频道，如<code>http://www.zhihu.com</code>、<code>edu.sina.com.cn</code>，或者是某个顶级域名，如<code>com.cn</code>、<code>com</code>等等。如果是要排除某网站或者顶级域名范围内的页面，只需用“–网站&#x2F;顶级域名”。</p>
<blockquote>
<p>注意：<code>site:</code>中的冒号后面不能有空格。</p>
</blockquote>
<h3 id="特定文档"><a href="#特定文档" class="headerlink" title="特定文档"></a>特定文档</h3><p>在某一类档中查找资讯——<code>filetype:</code></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// eg1:</span><br><span class="line">资产负债表 <span class="keyword">filetype</span>:doc OR <span class="keyword">filetype</span>:xls OR <span class="keyword">filetype</span>:ppt</span><br><span class="line"></span><br><span class="line">// eg2:</span><br><span class="line">冰与火之歌 <span class="keyword">filetype</span>:<span class="keyword">mkv</span> OR <span class="keyword">filetype</span>:mp4</span><br></pre></td></tr></table></figure>

<p><code>filetype:</code>是Google开发的非常强大实用的一个搜索语法。也就是说，Google不仅能搜索一般的文字页面，还能对某些二进位文档进行检索。</p>
<h3 id="包含在URL链接中"><a href="#包含在URL链接中" class="headerlink" title="包含在URL链接中"></a>包含在URL链接中</h3><p><strong>搜索的关键字包含在URL链接中</strong>——<code>inurl:</code>、<code>allinurl:</code></p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// eg1:</span></span><br><span class="line"><span class="symbol">inurl:</span>mp3 “这个世界会好吗”</span><br><span class="line"></span><br><span class="line"><span class="comment">// eg2:</span></span><br><span class="line"><span class="symbol">allinurl:</span>”cgi-bin” phf +com</span><br></pre></td></tr></table></figure>

<p>网页链接中包含第一个关键字<code>mp3</code>，第二个关键字<code>这个世界会好吗</code>出现在链接中或网页文档中。</p>
<p><code>allinurl</code>返回的网页链接中包含所有关键字。</p>
<h3 id="包含在网页标题中"><a href="#包含在网页标题中" class="headerlink" title="包含在网页标题中"></a>包含在网页标题中</h3><p><strong>搜索的关键字包含在网页标题中</strong>——<code>intitle:</code>、<code>allintitle:</code></p>
<p><code>intitle:</code>和<code>allintitle:</code>的用法类似于上面的<code>inurl</code>和<code>allinurl</code>，只是后者对URL进行查询，而前者对网页的标题栏（即<title></title>标签中的内容）进行查询。</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// eg1:</span></span><br><span class="line"><span class="symbol">intitle:</span>重庆 “轨道交通”</span><br><span class="line"></span><br><span class="line"><span class="comment">// eg2:</span></span><br><span class="line"><span class="symbol">allintitle:</span>重庆 “轨道交通”</span><br></pre></td></tr></table></figure>

<h3 id="包含在网页锚点内"><a href="#包含在网页锚点内" class="headerlink" title="包含在网页锚点内"></a>包含在网页锚点内</h3><p><strong>搜索的关键字包含在网页的“锚”(anchor)点内</strong>——<code>inanchor</code>、<code>allinanchor</code><br>用法与URL和TITLE类似。</p>
<h3 id="链接到某URL的网页"><a href="#链接到某URL的网页" class="headerlink" title="链接到某URL的网页"></a>链接到某URL的网页</h3><p><strong>搜索所有链接到某个URL位置的网页</strong>——<code>link:</code></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">link:www<span class="selector-class">.zhihu</span><span class="selector-class">.com</span></span><br><span class="line"><span class="comment">// 搜索所有链接到http://www.zhihu.com的网页。</span></span><br></pre></td></tr></table></figure>

<p>如果你拥有一个个人网站，想知道有多少人对你的网站做了链接，<code>link:</code>可以迅速达到这个目的。</p>
<p>⚠ <code>link:</code>不能与其他语法混合操作；另外，link只列出Google索引链接很小一部分，而非全部。</p>
<blockquote>
<p><strong>link的妙用：</strong>一般来说，做友情链接的网站都有相似的地方。这样，你可以通过友情链接，找到一大批具有相似内容的网站。</p>
</blockquote>
<h3 id="页面结构相似的页面"><a href="#页面结构相似的页面" class="headerlink" title="页面结构相似的页面"></a>页面结构相似的页面</h3><p><strong>查找与某个页面结构内容相似的页面</strong>——<code>related:</code></p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">related:</span>www.zhihu.com</span><br></pre></td></tr></table></figure>

<h3 id="从缓存页面查询"><a href="#从缓存页面查询" class="headerlink" title="从缓存页面查询"></a>从缓存页面查询</h3><p><strong>从Google伺服器上缓存页面中查询资讯</strong>——<code>cache:</code></p>

    
    
  </div>

  

  

</article>
  
    
  <nav class="pagination">  
      
      
      <a class="next" href="/page/2/">  
        <span class="next-text">下一页</span>  
        <i class="iconfont icon-right"></i>  
      </a>  
      
  </nav>  
  

  
</section>
        </div>
          

      </div>
    </main>
    <footer id="footer" class="footer">
      <!-- Social Links -->

<div class="social-links">
  
  
  
  
  <a href="mailto:jhlee007@gmail.com" class="iconfont icon-email" title="email"></a>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <a target="_blank" rel="noopener" href="https://github.com/jeanleem6" class="iconfont icon-github" title="github"></a>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

  
  <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
  
</div>



<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 -
    <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/zeed-w-beez/hexo-theme-even">Even</a>
  </span>
  <span class="division">|</span>
  <span class="hosting-info">
    footer.hosting
  </span>

  <span class="copyright-year">
    <span>
      
      &copy;
      
      2016 - 2024      
    </span>

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>

    <span class="author">Banksy7</span>
  </span>

</div>
    </footer>
    <div class="back-to-top" id="back-to-top"> <i class="iconfont icon-up"></i> </div>
  </div>
    

  







<script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>



<script type="text/javascript" src="/lib/slideout/slideout.js"></script>



<script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>



  <script type="text/javascript" src="/js/src/even.js?v=3.0.0"></script>
</body>

</html>